<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/WEB-INF/template/mainLayout.xhtml">

	<ui:define name="content">
	<f:metadata>
		<f:viewParam name="id" value="#{postController.postId}" required="true" requiredMessage="This page required use page"></f:viewParam>
	</f:metadata>
		<h:panelGroup rendered="#{postController.authorized}">
	    <div class="row">
						<div class="page-header">
							<h2><h:outputText value="#{postController.post.title}"></h:outputText></h2>
						</div>
						<p><h:outputText value="#{postController.post.post}"></h:outputText></p>
		</div>
		<div class="row">
		
		</div>
		<div class="row">
			<div class="col-md-6">
			<h:form>
				<h:panelGroup id="commentPanel">
					<div class="page-header">
						<h4>Comments:</h4>
					</div>
					<h:dataTable value="#{postController.postComments}" var="comment" width="100%">
						<h:column>
							<hr/>
							<strong><h:outputText value="#{comment.name}" ></h:outputText></strong>
							<br />
							<h:outputText value="#{comment.comment}"></h:outputText>
							<hr/>
						</h:column>
					</h:dataTable>
				</h:panelGroup>
		
				<div class="form-group">
					<h:outputLabel value="Name"></h:outputLabel>
					<h:inputText styleClass="form-control" value="#{postController.comment.name}"></h:inputText>
				</div>
				<div class="form-group">
					<h:outputLabel value="Comment"></h:outputLabel>
					<h:inputTextarea styleClass="form-control" value="#{postController.comment.comment}"></h:inputTextarea>
				</div>
				<div class="form-group">
					<h:commandButton styleClass="btn btn-primary" value="Send Comment" actionListener="#{postController.addComment}">
						<f:ajax render="@form" execute="@form"></f:ajax>
					</h:commandButton>
					<h:commandButton styleClass="btn btn-default" value="Reset"></h:commandButton>
				</div>
			</h:form>
			</div>
		</div>
		</h:panelGroup>
	</ui:define>
	
</ui:composition>
</html>